# Veterinary Clinic Console Application

Консольное приложение для управления базовыми процессами ветеринарной клиники: регистрация пациентов, запись к врачу и просмотр медицинских карт.

Проект реализован на **Python** с использованием **PostgreSQL** и демонстрирует архитектурное разделение на слои: интерфейс (CLI), бизнес-логика и работа с базой данных.

---

## Функциональность

Приложение поддерживает следующие операции:

* Регистрация нового пациента
* Просмотр списка пациентов
* Запись пациента к врачу (с учётом расписания и занятых слотов)
* Просмотр будущих записей к врачу
* Отмена записи
* Просмотр медицинской карты пациента

Медицинская карта содержит:

* данные пациента
* данные владельца
* историю записей к врачу

---

## Технологии

* Python 3.13
* PostgreSQL
* psycopg2
* rich (оформление консольного интерфейса)

---

## Структура проекта

```
veterinary_clinic/
│
├── cli/
│   └── menu.py              # Консольное меню
│
├── db/
│   ├── database.py          # Подключение к БД
│   └── models.py            # Модели данных
│
├── services/
│   ├── patient_service.py   # Логика пациентов
│   └── appointment_service.py
│
├── schema.sql               # Схема базы данных
├── requirements.txt         # Зависимости
├── main.py                  # Точка входа
└── README.md
```

---

## Схема базы данных

База данных включает таблицы:

* `owners` — владельцы животных
* `patients` — пациенты
* `doctors` — врачи
* `appointments` — записи на прием

Особенности:

* телефон владельца уникален
* запрещены пересекающиеся записи врача
* используется внешние ключи и ограничения целостности

---

## Установка и запуск

### 1. Клонировать проект

```
git clone <repo>
cd veterinary_clinic
```

### 2. Установить зависимости

```
pip install -r requirements.txt
```

### 3. Создать базу данных

Создайте БД PostgreSQL и выполните:

```
psql -U postgres -d veterinary_clinic -f schema.sql
```

---

## Настройка подключения

В `main.py` указываются параметры подключения:

```python
db = Database(
    host="localhost",
    port=5432,
    database="veterinary_clinic",
    user="postgres",
    password="your_password"
)
```

## Запуск приложения

Из корня проекта:

```
python main.py
```

или

```
py main.py
```

---

## Архитектура

Проект разделен на три слоя:

### CLI (menu.py)

Отвечает за пользовательский интерфейс и валидацию ввода.

### Services

Содержит бизнес-логику:

* проверки доступности врача
* управление пациентами
* операции с записями

### DB

Инкапсулирует подключение к PostgreSQL.

Такое разделение упрощает тестирование и масштабирование.

---

## Особенности реализации

* Запись к врачу ведётся слотами по 30 минут
* Рабочее время: 09:00–16:30
* Доступные даты: 14 дней вперёд
* Используется защита от двойной записи врача
* Ввод пользователя валидируется
* Интерфейс оформлен с помощью rich

---

## Возможные улучшения

* Веб-интерфейс
* Авторизация пользователей
* История медицинских процедур
* Расширенное расписание врачей

---

## Автор

Проект выполнен в рамках тестового задания на стажировку по направлению разработки и программирования.
